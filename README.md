# Методология БЭМ

ЭТО ЧЕРНОВИК. ДОКУМЕНТ В РАЗРАБОТКЕ.

## Что такое БЭМ

Подход к web-разработке, который позволяет получить гибкий, легко изменяемый код.

BEM решает следующие задачи:

 * разделение кода на логические части
    * происходит разделение ответственности, части кода могут писать разные люди
    * использование без погружения в детали реализации — можно оперировать частями
    без погружения в то, как эти части сделаны
    * увеличивается вероятность повторного использования — чем больше частей у нашего решения,
    тем больше вероятность того, что какая-либо часть решения может быть повторно использована
 * единый подход к реализации, во множестве технологий (мультилингвальность)
    * в web-технологиях финальный продукт состоит из разных технологий, но при этом во всех
     технологиях единые термины и подходы к реализации
    * картинки и документация тоже технологии
 * оптимизировать выполнение production runtime
    * добавлять в него только действительно используемые части, не грузить лишний, не используемый код
    * генерировать для разных бразеров («виртаульных машин») разный код, оптимизированный для этого браузера
    * для улучшения скорости работы можно менять не код приложения, а улучшать «компилятор»,
    который генерирует код из БЭМ-сущностей

## Определения

### Блок
Некая самостоятельная сущность, кирпичик проекта.<br/>
Блок содержит информацию о самом себе и может знать о своих детях — элементах блока.<br/>
Они могут использоваться сами по себе или внутри других блоков.

**Пример**<br/>
![Блок](https://github.com/bem/bem-method/raw/master/images/search.ru.png)

### Элемент
Часть блока, которая отвечает за какую-то отдельную функцию.<br/>
Элементы блока имеют смысл только в рамках своего родителя. Могут быть обязательными и не обязательными.

**Пример**<br/>
![Элемент](https://github.com/bem/bem-method/raw/master/images/search-e.ru.png)

### Модификатор
Модификатор — это свойство блока или элемента, которое меняет внешний вид или поведение.<br/>
Модификатор имеет имя и значение. Одновременно может использоваться несколько разных модификаторов.

**Пример**<br/>
![Модификатор](https://github.com/bem/bem-method/raw/master/images/search-m.ru.png)

### Уровень переопределения
Уровень переопределения — это набор реализаций блоков. Проект может
иметь несколько уровней, на каждом из которых добавляется или изменяется
реализация блоков. Конечная реализация блока собирается со всех уровней последовательно.

**Пример**<br/>
![Уровни переопределения](https://github.com/bem/bem-method/raw/master/images/levels.ru.png)

## Соглашения по именованию

### Имя блока
Имя блока формируется как <tt style="background: #F7F7E7;">префикс-<span style="color: #C00;">имя-блока</span></tt>.

**Примеры**

    b-menu
    b-popup
    i-popup

### Префикс блока
Мы используем два вида префиксов, которые позволяют определить назначение блока.

**b- (от block)**<br/>
Префикс блока с визуальным представлением на странице.

**Пример**<br/>
Попап с тенью имеет конкретное визуальное представление. Может иметь или не
иметь хвостик или закрывающий крестик. Может быть разных цветов. Может отображаться в разных направлениях.

![Блок b-popup](https://github.com/bem/bem-method/raw/master/images/b-popup.png)

**i- (от include)**<br/>
Префикс абстрактного блока, который не существует сам по себе, но используется
для построения других блоков.<br/>
Или префикс блока не имеющего визуального представления и реализующего какую-то
функциональность.

**Пример**<br/>
Блок <tt style="background: #F7F7E7;">i-popup</tt> не имеет конкретного визуального
представления. Хранит в себе функциональность, на основе которой строится блок
<tt style="background: #F7F7E7;">b-popup</tt>. Без блока <tt style="background: #F7F7E7;">i-popup</tt>
блок <tt style="background: #F7F7E7;">b-popup</tt> не существует.

![Блок i-popup](https://github.com/bem/bem-method/raw/master/images/i-popup.png)

### Имя элемента

Полное имя элемента формируется так, чтобы из него можно было определить
принадлежность данного элемента к конкретному блоку.<br/>
Полное имя элемента создается по схеме:
<tt style="background: #F7F7E7;">b-<span style="color: #C00;">имя-блока</span>__<span style="color: #008000;">имя-элемента</span></tt>.

**Примеры**

    b-menu__item
    b-popup__content

### Имя модификатора блока

Полное имя модификатора блока формируется так, чтобы из него можно было
определить принадлежность данного модификатора к конкретному блоку.
Полное имя модификатора блока создается по схеме:
<tt style="background: #F7F7E7;">b-<span style="color: #C00;">имя-блока</span>\_<span style="color: #06C;">имя-модификатора</span>\_<span style="color: gray;">значение-модификатора</span></tt>.

**Примеры**

    b-menu_layout_horiz
    b-menu_layout_vert
    b-popup_direction_up

### Имя модификатора элемента

Полное имя модификатора элемента формируется так, чтобы из него
можно было определить принадлежность данного модификатора к конкретному
элементу конкретного блока.
Полное имя модификатора элемента создается по схеме:
<tt style="background: #F7F7E7;">b-<span style="color: #C00;">имя-блока</span>__<span style="color: #008000;">имя-элемента</span>\_<span style="color: #06C;">имя-модификатора</span>\_<span style="color: gray;">значение-модификатора</span></tt>.

**Примеры**

    b-menu__item_state_current
    b-popupa__content_visibile_yes
    b-popupa__content_visibile_no

## Варианты модификации блоков

 * Модификатором
 * Контекстом
 * Уровнем переопределения

### Модификатором

Блоку/элементу добавляется модификатор и изменение блока/элемента описывается в коде этого модификатора.

**Примеры**

По умолчанию фон у попапа осутствует.<br/>
![Блок b-popup без фона](https://github.com/bem/bem-method/raw/master/images/b-popup-tr.png)

Добавление модификатора theme блоку `b-popup` добавляет ему фон.<br/>
`theme=yellow` добавляет фон желтого цвета:<br/>
![Блок b-popup с желтым фоном](https://github.com/bem/bem-method/raw/master/images/b-popup-yellow.png)

`theme=black` добавляет фон черного цвета:<br/>
![Блок b-popup с чёрным фоном](https://github.com/bem/bem-method/raw/master/images/b-popup-bl.png)

У блока может быть одновременно несколько модификаторов.

**Примеры**

Модификатор `theme` — отвечает за фон попапа. Модификатор
`direction` — отвечает за направление отображения попапа.

`theme=yellow` и `direction=left` — попап желтого цвета открывается влево:<br/>
![Блок b-popup с хвостиком слева](https://github.com/bem/bem-method/raw/master/images/b-popup-left.png)

`theme=yellow` и `direction=right` — попап желтого цвета открывается вправо:<br/>
![Блок b-popup с хвостиком справа](https://github.com/bem/bem-method/raw/master/images/b-popup-right.png)

Модификатор блока может изменять структуру блока (например, добавлять/удалять элементы) или его реализацию.

**Пример**<br/>
Модификатор `has-close=yes` — добавляет элемент закрывающий крестик.
Добавляет отступы блоку, освобождая место крестика.
![Блок b-popup с закрывающим крестиком](https://github.com/bem/bem-method/raw/master/images/b-popup-close.png)

### Контекстом

Блок при размещении в другом блоке может менять свой внешний вид или поведение.

**Пример**<br/>
Цвет текста вложенного блока меняется с зелёного на красный, если
он помещён в блок с синим фоном с красными буквами.

**Примеры**

Переключатель языков (`b-lang-switcher`)<br/>
![Переключатель языков b-lang-switcher](https://github.com/bem/bem-method/raw/master/images/lang-switcher.png)

Переключатель языков (`b-lang-switcher`) в подвале страницы
(`b-foot`), уменьшается размер шрифта.<br/>
![Переключатель языков b-lang-switcher в подвале](https://github.com/bem/bem-method/raw/master/images/lang-switcher-foot.png)

### Уровнем переопределения

Изменения создаются на следующем уровне переопределения и добавляют или изменяют функциональность блока.

**Пример**<br/>
Блок может выглядеть на разных проектах по разному. При этом его общая часть лежит
в одном файле (например, в репозитории фреймворка), а частная для проекта в другом
(в репозитории проекта). Блок доопределяется дополнительными проектными файлами.

TODO: Сделать пример или ссылку на пример.
